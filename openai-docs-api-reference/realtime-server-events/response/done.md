# response.done

Returned when a Response is done streaming. Always emitted, no matter the 
final state. The Response object included in the `response.done` event will 
include all output Items in the Response but will omit the raw audio data.


## Properties

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `event_id` | string | Yes |  |  | The unique ID of the server event. |
| `type` | string | Yes |  | `response.done` | The event type, must be `response.done`. |
| `response` | object (13 properties) | Yes |  |  | The response resource. |
|   ↳ `status` | string | No |  | `completed`, `cancelled`, `failed`, `incomplete` | The final status of the response (`completed`, `cancelled`, `failed`, or  <br> `incomplete`). <br>  |
|   ↳ `status_details` | object (3 properties) | No |  |  | Additional details about the status. |
|     ↳ `error` | object (2 properties) | No |  |  | A description of the error that caused the response to fail,  <br> populated when the `status` is `failed`. <br>  |
|   ↳ `output` | array of object (10 properties) | No |  |  | The list of output items generated by the response. |
|   ↳ `metadata` | map | No |  |  | Set of 16 key-value pairs that can be attached to an object. This can be <br> useful for storing additional information about the object in a structured <br> format, and querying for objects via API or the dashboard.  <br>  <br> Keys are strings with a maximum length of 64 characters. Values are strings <br> with a maximum length of 512 characters. <br>  |
|   ↳   ↳ (additional properties) | string | - | - | - | Additional properties of this object |
|   ↳ `usage` | object (5 properties) | No |  |  | Usage statistics for the Response, this will correspond to billing. A  <br> Realtime API session will maintain a conversation context and append new  <br> Items to the Conversation, thus output from previous turns (text and  <br> audio tokens) will become the input for later turns. <br>  |
|     ↳ `output_tokens` | integer | No |  |  | The number of output tokens sent in the Response, including text and  <br> audio tokens. <br>  |
|     ↳ `input_token_details` | object (3 properties) | No |  |  | Details about the input tokens used in the Response. |
|       ↳ `audio_tokens` | integer | No |  |  | The number of audio tokens used in the Response. |
|     ↳ `output_token_details` | object (2 properties) | No |  |  | Details about the output tokens used in the Response. |
|   ↳ `conversation_id` | string | No |  |  | Which conversation the response is added to, determined by the `conversation` <br> field in the `response.create` event. If `auto`, the response will be added to <br> the default conversation and the value of `conversation_id` will be an id like <br> `conv_1234`. If `none`, the response will not be added to any conversation and <br> the value of `conversation_id` will be `null`. If responses are being triggered <br> by server VAD, the response will be added to the default conversation, thus <br> the `conversation_id` will be an id like `conv_1234`. <br>  |
|   ↳ `voice` | anyOf: string | string | No |  |  | The voice the model used to respond. <br> Current voice options are `alloy`, `ash`, `ballad`, `coral`, `echo`, `fable`, <br> `onyx`, `nova`, `sage`, `shimmer`, and `verse`. <br>  |
|   ↳ `modalities` | array of string | No |  |  | The set of modalities the model used to respond. If there are multiple modalities, <br> the model will pick one, for example if `modalities` is `["text", "audio"]`, the model <br> could be responding in either text or audio. <br>  |
|   ↳ `output_audio_format` | string | No |  | `pcm16`, `g711_ulaw`, `g711_alaw` | The format of output audio. Options are `pcm16`, `g711_ulaw`, or `g711_alaw`. <br>  |
|   ↳ `temperature` | number | No |  |  | Sampling temperature for the model, limited to [0.6, 1.2]. Defaults to 0.8. <br>  |
|   ↳ `max_output_tokens` | oneOf: integer | string | No |  |  | Maximum number of output tokens for a single assistant response, <br> inclusive of tool calls, that was used in this response. <br>  |


### Items in `output` array

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `id` | string | No |  |  | The unique ID of the item, this can be generated by the client to help  <br> manage server-side context, but is not required because the server will  <br> generate one if not provided. <br>  |
| `type` | string | No |  | `message`, `function_call`, `function_call_output` | The type of the item (`message`, `function_call`, `function_call_output`). <br>  |
| `object` | string | No |  | `realtime.item` | Identifier for the API object being returned - always `realtime.item`. <br>  |
| `status` | string | No |  | `completed`, `incomplete` | The status of the item (`completed`, `incomplete`). These have no effect  <br> on the conversation, but are accepted for consistency with the  <br> `conversation.item.created` event. <br>  |
| `role` | string | No |  | `user`, `assistant`, `system` | The role of the message sender (`user`, `assistant`, `system`), only  <br> applicable for `message` items. <br>  |
| `content` | array of object (5 properties) | No |  |  | The content of the message, applicable for `message` items.  <br> - Message items of role `system` support only `input_text` content <br> - Message items of role `user` support `input_text` and `input_audio`  <br>   content <br> - Message items of role `assistant` support `text` content. <br>  |
| `call_id` | string | No |  |  | The ID of the function call (for `function_call` and  <br> `function_call_output` items). If passed on a `function_call_output`  <br> item, the server will check that a `function_call` item with the same  <br> ID exists in the conversation history. <br>  |
| `name` | string | No |  |  | The name of the function being called (for `function_call` items). <br>  |
| `arguments` | string | No |  |  | The arguments of the function call (for `function_call` items). <br>  |
| `output` | string | No |  |  | The output of the function call (for `function_call_output` items). <br>  |


### Items in `content` array

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `type` | string | No |  | `input_audio`, `input_text`, `item_reference`, `text` | The content type (`input_text`, `input_audio`, `item_reference`, `text`). <br>  |
| `text` | string | No |  |  | The text content, used for `input_text` and `text` content types. <br>  |
| `id` | string | No |  |  | ID of a previous conversation item to reference (for `item_reference` <br> content types in `response.create` events). These can reference both <br> client and server created items. <br>  |
| `audio` | string | No |  |  | Base64-encoded audio bytes, used for `input_audio` content type. <br>  |
| `transcript` | string | No |  |  | The transcript of the audio, used for `input_audio` content type. <br>  |


### Items in `modalities` array

Each item is of type `string`. Allowed values: `text`, `audio`


## Property Details

### `event_id` (required)

The unique ID of the server event.

**Type**: string

### `type` (required)

The event type, must be `response.done`.

**Type**: string

**Allowed values**: `response.done`

### `response` (required)

The response resource.

**Type**: object (13 properties)

**Nested Properties**:

* `id`, `object`, `status`, `status_details`, `output`, `metadata`, `usage`, `conversation_id`, `voice`, `modalities`, `output_audio_format`, `temperature`, `max_output_tokens`

## Example

```json
{
    "event_id": "event_3132",
    "type": "response.done",
    "response": {
        "id": "resp_001",
        "object": "realtime.response",
        "status": "completed",
        "status_details": null,
        "output": [
            {
                "id": "msg_006",
                "object": "realtime.item",
                "type": "message",
                "status": "completed",
                "role": "assistant",
                "content": [
                    {
                        "type": "text",
                        "text": "Sure, how can I assist you today?"
                    }
                ]
            }
        ],
        "usage": {
            "total_tokens":275,
            "input_tokens":127,
            "output_tokens":148,
            "input_token_details": {
                "cached_tokens":384,
                "text_tokens":119,
                "audio_tokens":8,
                "cached_tokens_details": {
                    "text_tokens": 128,
                    "audio_tokens": 256
                }
            },
            "output_token_details": {
              "text_tokens":36,
              "audio_tokens":112
            }
        }
    }
}

```

