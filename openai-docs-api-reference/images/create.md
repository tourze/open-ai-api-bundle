# Create image

`POST` `/images/generations`

Creates an image given a prompt. [Learn more](/docs/guides/images).


## Request Body

### Content Type: `application/json`

**Type**: object (12 properties)

#### Properties:

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `prompt` | string | Yes |  |  | A text description of the desired image(s). The maximum length is 32000 characters for `gpt-image-1`, 1000 characters for `dall-e-2` and 4000 characters for `dall-e-3`. |
| `model` | anyOf: string | string | No | `dall-e-2` |  | The model to use for image generation. One of `dall-e-2`, `dall-e-3`, or `gpt-image-1`. Defaults to `dall-e-2` unless a parameter specific to `gpt-image-1` is used. |
| `n` | integer | No | `1` |  | The number of images to generate. Must be between 1 and 10. For `dall-e-3`, only `n=1` is supported. |
| `quality` | string | No | `auto` | `standard`, `hd`, `low`, `medium`, `high`, `auto` | The quality of the image that will be generated.  <br>  <br> - `auto` (default value) will automatically select the best quality for the given model. <br> - `high`, `medium` and `low` are supported for `gpt-image-1`. <br> - `hd` and `standard` are supported for `dall-e-3`. <br> - `standard` is the only option for `dall-e-2`. <br>  |
| `response_format` | string | No | `url` | `url`, `b64_json` | The format in which generated images with `dall-e-2` and `dall-e-3` are returned. Must be one of `url` or `b64_json`. URLs are only valid for 60 minutes after the image has been generated. This parameter isn't supported for `gpt-image-1` which will always return base64-encoded images. |
| `output_format` | string | No | `png` | `png`, `jpeg`, `webp` | The format in which the generated images are returned. This parameter is only supported for `gpt-image-1`. Must be one of `png`, `jpeg`, or `webp`. |
| `output_compression` | integer | No | `100` |  | The compression level (0-100%) for the generated images. This parameter is only supported for `gpt-image-1` with the `webp` or `jpeg` output formats, and defaults to 100. |
| `size` | string | No | `auto` | `auto`, `1024x1024`, `1536x1024`, `1024x1536`, `256x256`, `512x512`, `1792x1024`, `1024x1792` | The size of the generated images. Must be one of `1024x1024`, `1536x1024` (landscape), `1024x1536` (portrait), or `auto` (default value) for `gpt-image-1`, one of `256x256`, `512x512`, or `1024x1024` for `dall-e-2`, and one of `1024x1024`, `1792x1024`, or `1024x1792` for `dall-e-3`. |
| `moderation` | string | No | `auto` | `low`, `auto` | Control the content-moderation level for images generated by `gpt-image-1`. Must be either `low` for less restrictive filtering or `auto` (default value). |
| `background` | string | No | `auto` | `transparent`, `opaque`, `auto` | Allows to set transparency for the background of the generated image(s).  <br> This parameter is only supported for `gpt-image-1`. Must be one of  <br> `transparent`, `opaque` or `auto` (default value). When `auto` is used, the  <br> model will automatically determine the best background for the image. <br>  <br> If `transparent`, the output format needs to support transparency, so it  <br> should be set to either `png` (default value) or `webp`. <br>  |
| `style` | string | No | `vivid` | `vivid`, `natural` | The style of the generated images. This parameter is only supported for `dall-e-3`. Must be one of `vivid` or `natural`. Vivid causes the model to lean towards generating hyper-real and dramatic images. Natural causes the model to produce more natural, less hyper-real looking images. |
| `user` | string | No |  |  | A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse. [Learn more](/docs/guides/safety-best-practices#end-user-ids). <br>  |
## Responses

### 200 - OK

#### Content Type: `application/json`

#### Image generation response

**Type**: object (3 properties)

The response from the image generation endpoint.

#### Properties:

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `created` | integer | Yes |  |  | The Unix timestamp (in seconds) of when the image was created. |
| `data` | array of object (3 properties) | No |  |  | The list of generated images. |
| `usage` | object (4 properties) | No |  |  | For `gpt-image-1` only, the token usage information for the image generation. <br>  |
|   ↳ `output_tokens` | integer | Yes |  |  | The number of image tokens in the output image. |
|   ↳ `input_tokens_details` | object (2 properties) | Yes |  |  | The input tokens detailed information for the image generation. |


### Items in `data` array

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `b64_json` | string | No |  |  | The base64-encoded JSON of the generated image. Default value for `gpt-image-1`, and only present if `response_format` is set to `b64_json` for `dall-e-2` and `dall-e-3`. |
| `url` | string | No |  |  | When using `dall-e-2` or `dall-e-3`, the URL of the generated image if `response_format` is set to `url` (default value). Unsupported for `gpt-image-1`. |
| `revised_prompt` | string | No |  |  | For `dall-e-3` only, the revised prompt that was used to generate the image. |
**Example:**

```json
{
  "created": 1713833628,
  "data": [
    {
      "b64_json": "..."
    }
  ],
  "usage": {
    "total_tokens": 100,
    "input_tokens": 50,
    "output_tokens": 50,
    "input_tokens_details": {
      "text_tokens": 10,
      "image_tokens": 40
    }
  }
}

```

## Examples

### Request Examples

#### curl
```bash
curl https://api.openai.com/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -d '{
    "model": "gpt-image-1",
    "prompt": "A cute baby sea otter",
    "n": 1,
    "size": "1024x1024"
  }'

```

#### python
```python
import base64
from openai import OpenAI
client = OpenAI()

img = client.images.generate(
    model="gpt-image-1",
    prompt="A cute baby sea otter",
    n=1,
    size="1024x1024"
)

image_bytes = base64.b64decode(img.data[0].b64_json)
with open("output.png", "wb") as f:
    f.write(image_bytes)

```

#### node.js
```javascript
import OpenAI from "openai";
import { writeFile } from "fs/promises";

const client = new OpenAI();

const img = await client.images.generate({
  model: "gpt-image-1",
  prompt: "A cute baby sea otter",
  n: 1,
  size: "1024x1024"
});

const imageBuffer = Buffer.from(img.data[0].b64_json, "base64");
await writeFile("output.png", imageBuffer);

```

### Response Example

```json
{
  "created": 1713833628,
  "data": [
    {
      "b64_json": "..."
    }
  ],
  "usage": {
    "total_tokens": 100,
    "input_tokens": 50,
    "output_tokens": 50,
    "input_tokens_details": {
      "text_tokens": 10,
      "image_tokens": 40
    }
  }
}

```

