# Get chat messages

`GET` `/chat/completions/{completion_id}/messages`

Get the messages in a stored chat completion. Only Chat Completions that
have been created with the `store` parameter set to `true` will be
returned.


## Parameters

### Path Parameters

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `completion_id` | string | Yes | The ID of the chat completion to retrieve messages from. |

### Query Parameters

| Name | Type | Required | Description |
| ---- | ---- | -------- | ----------- |
| `after` | string | No | Identifier for the last message from the previous pagination request. |
| `limit` | integer | No | Number of messages to retrieve. |
| `order` | string | No | Sort order for messages by timestamp. Use `asc` for ascending order or `desc` for descending order. Defaults to `asc`. |

## Responses

### 200 - A list of messages

#### Content Type: `application/json`

#### ChatCompletionMessageList

**Type**: object (5 properties)

An object representing a list of chat completion messages.


#### Properties:

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `object` | string | Yes | `list` | `list` | The type of this object. It is always set to "list". <br>  |
| `data` | array of object (8 properties) | Yes |  |  | An array of chat completion message objects. <br>  |
| `first_id` | string | Yes |  |  | The identifier of the first chat message in the data array. |
| `last_id` | string | Yes |  |  | The identifier of the last chat message in the data array. |
| `has_more` | boolean | Yes |  |  | Indicates whether there are more chat messages available. |


### Items in `data` array

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `content` | string | Yes |  |  | The contents of the message. |
| `refusal` | string | Yes |  |  | The refusal message generated by the model. |
| `tool_calls` | array of object (3 properties) | No |  |  | The tool calls generated by the model, such as function calls. |
| `annotations` | array of object (2 properties) | No |  |  | Annotations for the message, when applicable, as when using the <br> [web search tool](/docs/guides/tools-web-search?api-mode=chat). <br>  |
| `role` | string | Yes |  | `assistant` | The role of the author of this message. |
| `function_call` | object (2 properties) | No |  |  | Deprecated and replaced by `tool_calls`. The name and arguments of a function that should be called, as generated by the model. |
| `audio` | object (4 properties) | No |  |  | If the audio output modality is requested, this object contains data <br> about the audio response from the model. [Learn more](/docs/guides/audio). <br>  |
|   ↳ `data` | string | Yes |  |  | Base64 encoded audio bytes generated by the model, in the format <br> specified in the request. <br>  |
|   ↳ `transcript` | string | Yes |  |  | Transcript of the audio generated by the model. |
| `id` | string | Yes |  |  | The identifier of the chat message. |


### Items in `tool_calls` array

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `id` | string | Yes |  |  | The ID of the tool call. |
| `type` | string | Yes |  | `function` | The type of the tool. Currently, only `function` is supported. |
| `function` | object (2 properties) | Yes |  |  | The function that the model called. |


### Items in `annotations` array

| Property | Type | Required | Default | Allowed Values | Description |
| -------- | ---- | -------- | ------- | -------------- | ----------- |
| `type` | string | Yes |  | `url_citation` | The type of the URL citation. Always `url_citation`. |
| `url_citation` | object (4 properties) | Yes |  |  | A URL citation when using web search. |
|   ↳ `url` | string | Yes |  |  | The URL of the web resource. |
|   ↳ `title` | string | Yes |  |  | The title of the web resource. |
**Example:**

```json
{
  "object": "list",
  "data": [
    {
      "id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
      "role": "user",
      "content": "write a haiku about ai",
      "name": null,
      "content_parts": null
    }
  ],
  "first_id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
  "last_id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
  "has_more": false
}

```

## Examples

### Request Examples

#### curl
```bash
curl https://api.openai.com/v1/chat/completions/chat_abc123/messages \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "Content-Type: application/json"

```

#### python
```python
from openai import OpenAI
client = OpenAI()

completions = client.chat.completions.list()
first_id = completions[0].id
first_completion = client.chat.completions.retrieve(completion_id=first_id)
messages = client.chat.completions.messages.list(completion_id=first_id)
print(messages)

```

### Response Example

```json
{
  "object": "list",
  "data": [
    {
      "id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
      "role": "user",
      "content": "write a haiku about ai",
      "name": null,
      "content_parts": null
    }
  ],
  "first_id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
  "last_id": "chatcmpl-AyPNinnUqUDYo9SAdA52NobMflmj2-0",
  "has_more": false
}

```

